<div id="accountDefaults" class="container verticalOffset" ng-cloak>
    <!-- <p>Use this form to designate default access for each type of user.<br/>For instance: what default permissions ought
        to be given to a new user designated as &quot;Field Staff?&quot;</p> -->

    <p ng-show="accessDefaultsCtrl.nameError" class="text-danger">All access defaults must have a designation.</p>
    <table class="table table-condensed defaultsTable" float-thead="accessDefaultsCtrl.stickyOptions">
        <thead class="sticky-table-header">
        <tr>
            <th>&nbsp;</th>
            <th colspan="4">Interception Record Forms</th>
            <th colspan="4">Victim Interview Forms</th>
            <th>Person</th>
            <th colspan="4">Border Stations</th>
            <th>Accounts</th>
            <th colspan="3">Notifications</th>
            <th>VDC</th>
            <th colspan="4">Budget</th>
        </tr>
        <tr>
            <th>Designation</th>
            <!--IRF-->
            <th>View</th>
            <th>Add</th>
            <th>Edit</th>
            <th>Delete</th>
            <!--VIF-->
            <th>View</th>
            <th>Add</th>
            <th>Edit</th>
            <th>Delete</th>
            <!-- Trafficker Match -->
            <th>Matching</th>
            <!--Border Stations-->
            <th>View</th>
            <th>Add</th>
            <th>Edit</th>
            <th>Delete</th>
            <!--Accounts-->
            <th>Manage</th>
            <!--Notifications-->
            <th>Investigation</th>
            <th>Legal</th>
            <th>MDFs</th>
            <!--VDC-->
            <th>Manage</th>
            <!--Budget-->
            <th>View</th>
            <th>Add</th>
            <th>Edit</th>
            <th>Delete</th>
        </tr>
        </thead>

        <tbody id="permissions-rows-container">
        <tr ng-repeat="permissionsSet in accessDefaultsCtrl.permissions.items"
            ng-mouseenter="permissionsSet.hover = true"
            ng-mouseleave="permissionsSet.hover = false">

            <td>
                <div ng-class="{'has-error': permissionsSet.error}">
                    <input type="text" class="form-control" ng-model="permissionsSet.name"/>
                </div>
            </td>
            <td><label
                    ng-click="permissionsSet.permission_irf_view = !permissionsSet.permission_irf_view;"
                    ng-class="accessDefaultsCtrl.getStyling(permissionsSet.permission_irf_view)">
                    <span class="glyphicon {{ permissionsSet.permission_irf_view ? 'glyphicon-ok' : 'glyphicon-remove' }}"></span>
                </label>
            </td>
            <td><label
                    ng-click="permissionsSet.permission_irf_add = !permissionsSet.permission_irf_add;"
                    ng-class="accessDefaultsCtrl.getStyling(permissionsSet.permission_irf_add)">
                    <span class="glyphicon {{ permissionsSet.permission_irf_add ? 'glyphicon-ok' : 'glyphicon-remove' }}"></span>
                </label>
            </td>
            <td><label
                    ng-click="permissionsSet.permission_irf_edit = !permissionsSet.permission_irf_edit;"
                    ng-class="accessDefaultsCtrl.getStyling(permissionsSet.permission_irf_edit)">
                    <span class="glyphicon {{ permissionsSet.permission_irf_edit ? 'glyphicon-ok' : 'glyphicon-remove' }}"></span>
                </label>
            </td>
            <td><label
                    ng-click="permissionsSet.permission_irf_delete = !permissionsSet.permission_irf_delete;"
                    ng-class="accessDefaultsCtrl.getStyling(permissionsSet.permission_irf_delete)">
                    <span class="glyphicon {{ permissionsSet.permission_irf_delete ? 'glyphicon-ok' : 'glyphicon-remove' }}"></span>
                </label>
            </td>
            <td><label
                    ng-click="permissionsSet.permission_vif_view = !permissionsSet.permission_vif_view;"
                    ng-class="accessDefaultsCtrl.getStyling(permissionsSet.permission_vif_view)">
                    <span class="glyphicon {{ permissionsSet.permission_vif_view ? 'glyphicon-ok' : 'glyphicon-remove' }}"></span>
                </label>
            </td>
            <td><label
                    ng-click="permissionsSet.permission_vif_add = !permissionsSet.permission_vif_add;"
                    ng-class="accessDefaultsCtrl.getStyling(permissionsSet.permission_vif_add)">
                    <span class="glyphicon {{ permissionsSet.permission_vif_add ? 'glyphicon-ok' : 'glyphicon-remove' }}"></span>
                </label>
            </td>
            <td><label
                    ng-click="permissionsSet.permission_vif_edit = !permissionsSet.permission_vif_edit;"
                    ng-class="accessDefaultsCtrl.getStyling(permissionsSet.permission_vif_edit)">
                    <span class="glyphicon {{ permissionsSet.permission_vif_edit ? 'glyphicon-ok' : 'glyphicon-remove' }}"></span>
                </label>
            </td>
            <td><label
                    ng-click="permissionsSet.permission_vif_delete = !permissionsSet.permission_vif_delete;"
                    ng-class="accessDefaultsCtrl.getStyling(permissionsSet.permission_vif_delete)">
                    <span class="glyphicon {{ permissionsSet.permission_vif_delete ? 'glyphicon-ok' : 'glyphicon-remove' }}"></span>
                </label>
            </td>
            <td><label
                    ng-click="permissionsSet.permission_person_match = !permissionsSet.permission_person_match;"
                    ng-class="accessDefaultsCtrl.getStyling(permissionsSet.permission_person_match)">
                    <span class="glyphicon {{ permissionsSet.permission_person_match ? 'glyphicon-ok' : 'glyphicon-remove' }}"></span>
                </label>
            </td>
            <td><label
                    ng-click="permissionsSet.permission_border_stations_view = !permissionsSet.permission_border_stations_view;"
                    ng-class="accessDefaultsCtrl.getStyling(permissionsSet.permission_border_stations_view)">
                    <span class="glyphicon {{ permissionsSet.permission_border_stations_view ? 'glyphicon-ok' : 'glyphicon-remove' }}"></span>
                </label>
            </td>
            <td><label
                    ng-click="permissionsSet.permission_border_stations_add = !permissionsSet.permission_border_stations_add;"
                    ng-class="accessDefaultsCtrl.getStyling(permissionsSet.permission_border_stations_add)">
                    <span class="glyphicon {{ permissionsSet.permission_border_stations_add ? 'glyphicon-ok' : 'glyphicon-remove' }}"></span>
                </label>
            </td>
            <td><label
                    ng-click="permissionsSet.permission_border_stations_edit = !permissionsSet.permission_border_stations_edit;"
                    ng-class="accessDefaultsCtrl.getStyling(permissionsSet.permission_border_stations_edit)">
                    <span class="glyphicon {{ permissionsSet.permission_border_stations_edit ? 'glyphicon-ok' : 'glyphicon-remove' }}"></span>
                </label>
            </td>
            <td><label
                    ng-click="permissionsSet.permission_border_stations_delete = !permissionsSet.permission_border_stations_delete;"
                    ng-class="accessDefaultsCtrl.getStyling(permissionsSet.permission_border_stations_delete)">
                    <span class="glyphicon {{ permissionsSet.permission_border_stations_delete ? 'glyphicon-ok' : 'glyphicon-remove' }}"></span>
                </label>
            </td>
            <td><label
                    ng-click="permissionsSet.permission_accounts_manage = !permissionsSet.permission_accounts_manage;"
                    ng-class="accessDefaultsCtrl.getStyling(permissionsSet.permission_accounts_manage)">
                    <span class="glyphicon {{ permissionsSet.permission_accounts_manage ? 'glyphicon-ok' : 'glyphicon-remove' }}"></span>
                </label>
            </td>
            <td><label
                    ng-click="permissionsSet.permission_receive_legal_alert = !permissionsSet.permission_receive_legal_alert;"
                    ng-class="accessDefaultsCtrl.getStyling(permissionsSet.permission_receive_legal_alert)">
                    <span class="glyphicon {{ permissionsSet.permission_receive_legal_alert ? 'glyphicon-ok' : 'glyphicon-remove' }}"></span>
                </label>
            </td>
            <td><label
                    ng-click="permissionsSet.permission_receive_investigation_alert = !permissionsSet.permission_receive_investigation_alert;"
                    ng-class="accessDefaultsCtrl.getStyling(permissionsSet.permission_receive_investigation_alert)">
                    <span class="glyphicon {{ permissionsSet.permission_investigation_legal_alert ? 'glyphicon-ok' : 'glyphicon-remove' }}"></span>
                </label>
            </td>
            <td><label
                    ng-click="permissionsSet.permission_can_receive_mdf = !permissionsSet.permission_can_receive_mdf;"
                    ng-class="accessDefaultsCtrl.getStyling(permissionsSet.permission_can_receive_mdf)">
                    <span class="glyphicon {{ permissionsSet.permission_can_receive_mdf ? 'glyphicon-ok' : 'glyphicon-remove' }}"></span>
                </label>
            </td>
            <td><label
                    ng-click="permissionsSet.permission_address2_manage = !permissionsSet.permission_address2_manage; accessDefaultsCtrl.checkIfModified(x)"
                    ng-class="accessDefaultsCtrl.getStyling(permissionsSet.permission_address2_manage)">
                    <span class="glyphicon {{ permissionsSet.permission_address2_manage ? 'glyphicon-ok' : 'glyphicon-remove' }}"></span>
                </label>
            </td>
            <td><label
                    ng-click="permissionsSet.permission_budget_view = !permissionsSet.permission_budget_view;"
                    ng-class="accessDefaultsCtrl.getStyling(permissionsSet.permission_budget_view)">
                    <span class="glyphicon {{ permissionsSet.permission_budget_view ? 'glyphicon-ok' : 'glyphicon-remove' }}"></span>
                </label>
            </td>
            <td><label
                    ng-click="permissionsSet.permission_budget_add = !permissionsSet.permission_budget_add;"
                    ng-class="accessDefaultsCtrl.getStyling(permissionsSet.permission_budget_add)">
                    <span class="glyphicon {{ permissionsSet.permission_budget_add ? 'glyphicon-ok' : 'glyphicon-remove' }}"></span>
                </label>
            </td>
            <td><label
                    ng-click="permissionsSet.permission_budget_edit = !permissionsSet.permission_budget_edit;"
                    ng-class="accessDefaultsCtrl.getStyling(permissionsSet.permission_budget_edit)">
                    <span class="glyphicon {{ permissionsSet.permission_budget_edit ? 'glyphicon-ok' : 'glyphicon-remove' }}"></span>
                </label>
            </td>
            <td><label
                    ng-click="permissionsSet.permission_budget_delete = !permissionsSet.permission_budget_delete;"
                    ng-class="accessDefaultsCtrl.getStyling(permissionsSet.permission_budget_delete)">
                    <span class="glyphicon {{ permissionsSet.permission_budget_delete ? 'glyphicon-ok' : 'glyphicon-remove' }}"></span>
                </label>
            </td>
            <td id="removeButton" class="col-md-1">
                <confirm-button
                        btn-class="btn btn-sm btn-danger animated pull-left"
                        disabled="permissionsSet.is_used_by_accounts"
                        ng-show="!permissionsSet.is_used_by_accounts"
                        invisible="!permissionsSet.hover"
                        text="Remove Role"
                        confirm-text="Are you sure?"
                        on-confirm="accessDefaultsCtrl.removePermissionRole($index)"/>
            </td>
        </tr>
        </tbody>
    </table>
    <div class="btn-toolbar col-md-5">
        <button id="addAnotherButton" ng-click="accessDefaultsCtrl.addAnother()" class="col-xs-4 col-md-4 col-lg-4 clear btn btn-primary btn-sm">Add Another</button>
    </div>
    <div class="btn-toolbar col-md-6">
        <button ng-disabled="!accessDefaultsCtrl.permissions.hasChanges" ng-click="accessDefaultsCtrl.discardChanges()" class=" col-xs-4 col-md-4 col-lg-4 clear btn btn-primary btn-sm pull-right"> Discard Changes</button>
        <button ng-disabled="!accessDefaultsCtrl.permissions.hasChanges" ng-click="accessDefaultsCtrl.saveAll()" class="col-xs-4 col-md-4 col-lg-4 clear btn btn-sm pull-right {{accessDefaultsCtrl.saveButtonStyle}}">{{accessDefaultsCtrl.saveButtonText}} </button>
    </div>
</div>
